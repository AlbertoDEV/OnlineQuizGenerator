<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <title th:text="#{result.title}">Quiz Result</title>
    <link rel="stylesheet" th:href="@{/css/style.css}">
    <script th:src="@{/js/main.js}"></script>
</head>
<body>
    <div th:replace="~{fragments/navbar :: navbar}"></div>

    <div class="container">
        <main>
            <section class="result-container">
                <h1 th:text="#{result.title}">Quiz Result</h1>
                <h2 th:text="${quiz.title}">Quiz Title</h2>

                <div class="score-display">
                    <p><span th:text="#{result.score.your}">Your score:</span> <span th:text="${score}">0</span> <span th:text="#{result.score.of}">out of</span> <span th:text="${#lists.size(quiz.questions)}">0</span></p>
                    <p><span th:text="#{result.score.percentage}">Percentage:</span> <span th:text="${#numbers.formatDecimal((score * 100.0) / #lists.size(quiz.questions), 1, 2)}">0</span>%</p>
                </div>

                <div class="answers-container">
                    <h3><span th:text="#{result.correct.answers}">Correct Answers:</span></h3>
                    <div th:each="question : ${quiz.questions}" class="answer-item">
                        <p class="question" th:text="${question.text}">Question text</p>
                        <p class="correct-answer"><span th:text="#{result.correct.answer.label}">Correct answer:</span> <span th:text="${question.options[question.correctAnswer]}">Correct answer text</span></p>
                    </div>
                </div>

                <a th:href="@{/user}" class="button" th:text="#{result.back.button}">Back to Dashboard</a>
            </section>
        </main>
    </div>
</body>
</html>